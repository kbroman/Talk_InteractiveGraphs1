<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="apple-mobile-web-app-capable" content="yes">

<style>
@import url(css/stack.css);
@import url(css/kbroman_talk.css);
@import url(css/sperm.css);
</style>

<script src="js/d3.v2.min.js?2.7.3"></script>
<script src="js/plotframe.js"></script>

<title>Why aren't all of our graphs interactive?</title>
</head>
<body class="overview">





<section class="titlepage">
<h2 class="highlight">Why aren't all of our graphs
<font id="flash" class="glow">interactive</font>?</h2>

<h4><a href="http://www.biostat.wisc.edu/~kbroman">Karl Broman</a></h4>
<p class="nopadding">Biostatistics &amp; Medical Informatics, University of Wisconsin
&ndash; Madison</p>

<code><a href="http://www.biostat.wisc.edu/~kbroman"
class="gray">http://www.biostat.wisc.edu/~kbroman</a></code>

<script type="text/javascript">
var flashText = d3.select("body").select("#flash");

var flashToggle = 0; // when flashing, keeps track of on/off
var stateToggle = 0; // goes between 0 (off), 1 (on) and 2 (flashing)

var flashFunc =
      function() {
        flashText.attr("class", function() {
          if(flashToggle==5) {
            flashToggle=-1;
            return("highlight"); }
          else return("glow"); });

        flashToggle++;
      };

var flashInterval = setInterval(flashFunc, 400);

flashText.on("click", function() {
    if(stateToggle==0) {
      clearInterval(flashInterval);
      d3.select(this).attr("class", "highlight");
    }
    else if(stateToggle==1) {
      d3.select(this).attr("class", "glow");
    }
    else {
      d3.select(this).attr("class", "highlight");
      flashToggle = 0;
      flashInterval = setInterval(flashFunc, 400);
    }
    stateToggle++;
    if(stateToggle > 2) stateToggle = 0;
});
</script>

<aside>These slides are not quite finished. Note that if you click on
the word "interactive", it will switch among off/on/flashing.</aside>

</section>





<section>
<h3>Example: <font class=highlight>density estimate</font></h3>
<div id="density_estimate" class="chart"></div>

<div style="font-size:28px;width:420px;align:center;margin-left:350px;margin-top:15px">
  <div style="float:left;" id="bandwidth">Bandwidth = 1.00</div>
  <div id="bgrect" style="float:right;width:135px;">
     <input type="range" min="-2" max="1" step = "0.05" value="0"></div>
</div>
<script src="js/density.js"></script>

<p class="codelink">
<a href="coffee/density.coffee" class="gray">code</a> |
<a href="coffee/plotframe.coffee" class="gray">plotframe</a>

<aside>In graduate school (at UC Berkeley), I took a course on
statistical computing from <a
href="http://www.stat.berkeley.edu/~spector/">Phil Spector</a>.  One
of the projects was to use <a
href="http://homepage.cs.uiowa.edu/~luke/xls/xlispstat/">XLisp-Stat</a>
to create an interactive plot of a density estimate, with a slider for
bandwidth.  Why haven't I done anything like this in the subsequent 15
years?  Rather than make a bunch of static plots to find a good
bandwidth, you can play around with the one interactive plot.</aside>

<p class="pg">2</p></section>




<section>
<h3>Example: <font class="highlight">scatterplot</font></h3>
<div id="scatterplot" class="chart"></div>
<script src="js/scatterplot.js"></script>

<p class="codelink">
<a href="coffee/scatterplot.coffee" class="gray">code</a> |
<a href="coffee/plotframe.coffee" class="gray">plotframe</a>


<aside>Outliers can be easily identified, with the right interactive
plot.  In R, you can use <code>identify()</code>, but who remembers
how to do it?  Usually, I'll say, "Hmm...I want to figure out which point has
weight 1 &gt; 30 and weight 2 &lt; 25."</aside>

<p class="pg">3</p></section>



<section>
<h3>Advantages</h3>

<ul class=small>
  <li><font class="highlight">Exploration</font>
       <ul>
         <li>Tuning parameters
         <li>Identifying outliers
         <li>One fancy plot vs 1000 static plots
       </ul>

  <li><font class="highlight">Reports for collaborators</font>
       <ul>
         <li>Living documents!
         <li>Allow deeper exploration of the results
         <li>Cut down on questions?
       </ul>

  <li><font class="glow">Big Data</font>
       <ul>
         <li>Greatly compressed information, but with access to the details
         <li>Don't just rely on summary statistics
         <li>Zoom into dense figures
         <li>More exploration, more connections
       </ul>

</ul>

<p class="pg">4</p></section>



<section>
<h3>Reproducible reports</h3>

<ul class=small>
  <li><a href="http://www.statistik.lmu.de/~leisch/Sweave/">Sweave</a>
  <li><a href="http://www.methods.co.nz/asciidoc/">Asciidoc</a>
      <font class="small">[<a href="examples/clean_genotypes.html" class="gray">Example</a> | <a
      href="examples/clean_genotypes_asciidoc_source.html" class="gray">Source</a> | <a
      href="http://powerman.name/doc/asciidoc" class="gray">Glossary</a>]</font>


  <li><a href="http://daringfireball.net/projects/markdown/">Markdown</a> +
      <a href="http://yihui.name/knitr/">knitr</a> &rarr; <a
  href="http://www.rstudio.org/docs/authoring/using_markdown">R
  markdown</a> (esp. in <a href="http://www.rstudio.org" class="gray">RStudio</a>)
</ul>

<p class="pg">5</p></section>

<section>
<h3>Barriers</h3>

<ul class=small style="margin-right:100px;">
  <li><a>We never learned how</a>
  <li><a>It's a hassle</a>
  <li><a>No consistent platform</a>
  <li><a>Journal articles are static</a> <font class="small">(and what else matters?)</font>
  <li><a>Most statisticians are still creating terrible static plots</a>
       <font class="small">(even worse, obnoxious tables)</font>

</ul>
<p class="pg">6</p></section>

<section>
<h3>Barriers</h3>

<ul class=small style="margin-right:100px;">
  <li><a>We never learned how</a>
  <li><a>It's a hassle</a>
  <li><a>No consistent platform</a>
  <li><a>Journal articles are static</a> <font class="small">(and what else matters?)</font>
  <li><a>Most statisticians are still creating <font class="glow">terrible</font> static plots</a>
       <font class="small">(even worse, <font class="glow">obnoxious</font> tables)</font>

</ul>
<p class="pg">6</p></section>

<section>
<h3>Examples from <a href="http://amstat.tandfonline.com/loi/jasa">JASA</a></h3>

<div class="chart"><img src="examples/jasa_sep2012_pg460.png" width=800></div>
<p class="pg">7</p></section>

<section>
<h3>Examples from <a href="http://amstat.tandfonline.com/loi/jasa">JASA</a></h3>

<div class="chart"><img src="examples/jasa_sep2012_pg600.png" width=800></div>
<p class="pg">8</p></section>

<section>
<h3>Examples from <a href="http://amstat.tandfonline.com/loi/jasa">JASA</a></h3>

<div class="chart"><img src="examples/jasa_sep2012_pg665.png" width=800></div>
<p class="pg">9</p></section>

<section>
<h3>Examples from <a href="http://amstat.tandfonline.com/loi/jasa">JASA</a></h3>

<div class="chart"><img src="examples/jasa_sep2012_pg798.png" height=600></div>
<div style:"position: absolute; bottom: 0;" class="nopadding">
<font class="gray" style="font-size:28px;">There <em><font class="highlight">are</font></em> some nice ones.</font></div>
<p class="pg">10</p></section>


<section>
<h3>Options</h3>

<ul class=tight>
  <li><a href="http://homepage.cs.uiowa.edu/~luke/xls/xlispstat/">XLisp-Stat</a>
  <li><code>locator()</code> and <code>identify()</code>
  <li><a href="http://ggobi.org">ggobi</a> and <a href="https://github.com/ggobi/cranvas/wiki">cranvas</a>
  <li><a href="http://4dpiecharts.com/2010/10/06/creating-guis-in-r-with-gwidgets/">gWidgets</a>
  <li><a href="http://www.stats.gla.ac.uk/~adrian/rpanel/">rpanel</a>
  <li><a href="http://rforge.net/Acinonyx/">Acinonyx</a> (aka iPlots eXtreme)
  <li><a href="http://rstudio.org/">RStudio</a>'s <code><a href="http://rstudio.org/docs/advanced/manipulate">manipulate()</a></code>
  <li><a href="http://gridsvg.r-forge.r-project.org">gridSVG</a>
  <li><a href="http://www.youtube.com/watch?v=iSXNfZESR5I">g(i)gplot</a>?
  <li><a href="http://code.google.com/p/google-motion-charts-with-r/">googleVis</a>
  <li><a href="http://d3js.org">d3.js</a>
<ul>

<p class="pg">11</p></section>

<section>
<h3>Trade-offs</h3>

<p align="center" style="margin-top:200px;font-size: 48px;"> <a href="http://code.google.com/p/google-motion-charts-with-r/">Easy</a> <font
  class="gray">or <a href="http://d3js.org" class="highlight">flexible</a>?</font>


<p class="pg">12</p></section>



<section class="nopadding">

<div id="sperm" class="sperm" style="position:absolution;top:0px;left:0px;width:1280px;height:960px;">

<div style="position:absolute;bottom:1px;left:1px;">
<code><a href="http://bl.ocks.org/1136236">http://bl.ocks.org/1136236</a></code></div>

<p class="pg">13</p>
</div>
<script src="js/sperm.js"></script>
</section>


<section>
<h3>More <a href="http://d3js.org" class="highlight">d3.js</a> <a href="https://github.com/mbostock/d3/wiki/Gallery" class="highlight">examples</a></h3>

<ul class=tight>
  <li><a href="http://bost.ocks.org/mike/nations/">Wealth and health of nations</a>
  <li><a href="http://bl.ocks.org/1667367">Brushing</a>
  <li><a href="http://bost.ocks.org/mike/miserables/">Adjacency matrix</a>
  <li><a href="http://bost.ocks.org/mike/uberdata/">Chord diagram</a>
  <li><a href="http://bost.ocks.org/mike/shuffle/">Random shuffles</a>
  <li><a href="http://mbostock.github.com/d3/talk/20111018/collision.html">Collisions</a>
  <li><a href="http://mbostock.github.com/d3/talk/20110921/#6">Different kinds of forces</a>
  <li><a href="http://www.nytimes.com/interactive/2012/09/06/us/politics/convention-word-counts.html">Word counts at the conventions</a>
</ul>

<aside>There are loads of cool examples on the web.</aside>

<p class="pg">14</p></section>

</section>




<section>
<h3>A lot to learn</h3>

<ul>
  <li><a href="https://developer.mozilla.org/en-US/docs/HTML/HTML5">html</a> and "<a href="http://en.wikipedia.org/wiki/Document_Object_Model">The DOM</a>"
  <li><a href="https://developer.mozilla.org/en-US/docs/CSS">css</a>
  <li><a href="https://developer.mozilla.org/en-US/docs/SVG">svg</a>
  <li><a href="https://developer.mozilla.org/en-US/docs/JavaScript">JavaScript</a>
  <li><a href="http://coffeescript.org">CoffeeScript</a>
  <li><a href="http://d3js.org">d3.js</a>
</ul>

<aside>The hardest part about learning d3 is that there are a whole pile of things that you need to understand simultaneously, and some of them are rather dull.</aside>

<p class="pg">15</p></section>
</section>


<section>
<h3>Acknowledgments</h3>
  <p><a href="http://d3js.org" class="highlight">d3.js</a> and <a href="https://github.com/mbostock/stack" class="highlight">stack.js</a> by <a href="http://bost.ocks.org/mike" rel="author">Mike Bostock</a>

  <p><a href="http://alignedleft.com/tutorials/d3"
  class="highlight">d3 tutorials</a> by <a href="http://alignedleft.com">Scott Murray</a>

  <p><a href="http://coffeescript.org" class="highlight">CoffeeScript</a> by <a
  href="https://github.com/jashkenas">Jeremy Ashkenas</a>

  <p><a href="http://eloquentjavascript.net"
  class="highlight"><i>Eloquent JavaScript</i></a> by <a href="http://marijnhaverbeke.nl">Marijn Haverbeke</a>

  <p><a href="http://pragprog.com/book/tbcoffee/coffeescript"
  class="highlight"><i>CoffeeScript</i> book</a> by <a href="http://trevorburnham.com">Trevor Burnham</a>

<p class="pg">16</p></section>

<script src="js/stack.v0.js"></script>
</body>
</html>